{"version":3,"sources":["UserContext.js","useLocalStorage.js","GhibliController.js","OMDbController.js","Film.js","FilmList.js","Splashscreen.js","App.js","index.js"],"names":["UserContext","createContext","useLocalStorage","key","initialValue","useState","JSON","parse","localStorage","getItem","Function","getSavedValue","value","setValue","useEffect","setItem","stringify","base_url","getFilms","setFilms","setLoaded","a","axios","get","films","data","getSearch","query","setCollection","elements","getPictureSrc","movie_name","split","join","film","Poster","Film","props","showModal","setShowModal","imgSrc","setImgSrc","title","source","className","styles","Card","Img","src","Body","Title","Button","variant","onClick","VerticallyCenteredModal","description","id","show","onHide","useContext","setFavs","favs","Modal","size","aria-labelledby","centered","Header","closeButton","Footer","currentFavs","FilmList","map","element","Splashscreen","alt","Home","loaded","beenhere","setBeenhere","setTimeout","style","Favs","Custom","Collection","setQuery","formRef","useRef","current","console","log","Form","Group","controlId","Label","Control","ref","as","length","width","name","climate","age","classification","Text","App","Provider","Navbar","bg","Brand","to","Nav","Link","href","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0bec96c6.chunk.js","sourcesContent":["import { createContext } from \"react\";\nexport const UserContext = createContext();","import {useEffect, useState} from 'react'\n\nfunction getSavedValue(key, initialValue){\n    const savedValue = JSON.parse(localStorage.getItem(key))\n    if (savedValue) return savedValue\n    if(initialValue instanceof Function) return initialValue()\n    return initialValue\n}\n\n\nexport default function useLocalStorage(key, initialValue){\n    const [value, setValue] = useState(()=> getSavedValue(key, initialValue))\n\n\n    useEffect(() => {\n        localStorage.setItem(key,JSON.stringify(value))\n    }, [value])\n\n    return [value, setValue]\n}\n","import axios from 'axios'\n\nconst base_url = 'https://ghibliapi.herokuapp.com/'\n\nexport const getFilms = async (setFilms, setLoaded) => {\n    try {\n        const films = await axios.get(base_url+'Films')\n        setFilms(films.data)\n        setLoaded(true)\n    } catch (error) {\n        return false\n    }\n}\n\nexport const getSearch = async (query , setCollection) => {\n    try {\n        const elements = await axios.get(base_url+query)\n        setCollection(elements.data)\n    } catch (error) {\n        return false\n    }\n}","import axios from 'axios'\n\n\nconst base_url = 'https://www.omdbapi.com/?apikey=25cb10d2&t='\n\nexport const getPictureSrc = async (movie_name) => {\n    try {\n        const film = await axios.get(base_url+movie_name.split(' ').join('+'))\n        return film.data.Poster\n    } catch (error) {\n        return false\n    }\n}\n\n","import 'bootstrap/dist/css/bootstrap.min.css'\nimport { getPictureSrc } from './OMDbController'\nimport { Card, Modal, Button } from 'react-bootstrap'\nimport React, { useState, useEffect, useContext } from 'react'\nimport {UserContext} from './UserContext'\nexport const Film = (props) => {\n\n    const [showModal, setShowModal] = useState(false)\n    const [imgSrc, setImgSrc] = useState('');\n    useEffect(()=>{\n        const a = async ()=> {\n            const source = await getPictureSrc(props.title)\n            setImgSrc(source)\n        }\n        a()\n    },[])\n\n    return (\n            <div className=\"col-md-3\" styles={{\n                'margin':'10px 0px 10px 0px'\n            }}>\n                <Card key={props.id} >\n                    <Card.Img src={imgSrc} />\n                    <Card.Body>\n                        <Card.Title>\n                            {props.title}\n                        </Card.Title>\n                        <Button variant=\"primary\" onClick={() => setShowModal(true)}>\n                            Show description\n                        </Button>\n                        <VerticallyCenteredModal\n                            film={{\n                                title:props.title,\n                                description:props.description,\n                                id:props.id\n                            }}\n                            show={showModal}\n                            onHide={() => setShowModal(false)}\n                        />\n                    </Card.Body>\n                </Card>\n            </div>\n    )\n}\n\n\nfunction VerticallyCenteredModal(props) {\n  const {favs, setFavs} = useContext(UserContext)\n  return (\n    <Modal\n      {...props}\n      size=\"lg\"\n      aria-labelledby=\"contained-modal-title-vcenter\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title id=\"contained-modal-title-vcenter\">\n          {props.film.title}\n        </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <p>\n          {props.film.description }\n        </p>\n      </Modal.Body>\n      <Modal.Footer>\n        <Button onClick={()=>{\n          setFavs((currentFavs)=>{\n            return [...currentFavs, props.film]\n          })\n        }}>Add to favourites</Button>\n        <Button onClick={props.onHide}>Close</Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}","import {Film} from './Film'\n\nimport React from 'react'\n\nexport const FilmList = (props) => {\n\n    return (\n                <div className=\"row\">\n\n                    {props.films.map((element )=> {\n                        return(\n                            <Film key={element.id} id={element.id} title={element.title} description={element.description} />\n                        )\n                    })}\n\n                </div>\n            )\n}\n","import 'bootstrap/dist/css/bootstrap.min.css'\n\nexport const Splashscreen = () => {\n    return (\n        <>\n            <div className=\"row\">\n                <img alt=\"welcome message\" className=\"col d-flex align-items-center justify-content-center\" src='https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Forig01.deviantart.net%2Fd861%2Ff%2F2014%2F359%2Fb%2F0%2Fb0d22d0654c0ab72cdc8b9d2145f6695-d8b80js.png&f=1&nofb=1'></img>\n            </div>\n            <div className=\"row\">\n                <h2 className=\"col d-flex align-items-center justify-content-center\">Ghibli API Catalog</h2>\n            </div>\n        </>\n    )\n}\n","// Bootstrap dependencies\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport { Navbar, Nav, Form, option, Button, Card} from 'react-bootstrap'\n\n// router dependencies\nimport {Link} from 'react-router-dom'\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom'\n\n// react dependencies\nimport React, {useState, useEffect, useContext, useRef }from 'react'\nimport {UserContext} from './UserContext'\nimport useLocalStorage from './useLocalStorage'\n\n// API query abstraction\nimport { getFilms, getSearch } from './GhibliController'\n\n// subcomponents\nimport { FilmList } from './FilmList'\nimport { Splashscreen } from './Splashscreen'\n\nconst App = () => {\n\n  const [favs, setFavs] = useLocalStorage('films', [])\n  return(\n    <Router>\n      <UserContext.Provider value={{favs, setFavs}}>\n        <Navbar bg=\"dark\" variant=\"dark\">\n          <Navbar.Brand>\n            <Link to={'/'}>Catalog</Link>\n          </Navbar.Brand>\n          <Nav className=\"mr-auto\">\n            <Nav.Link>\n              <Link to={'/favs'}>Favs</Link>\n            </Nav.Link>\n            <Nav.Link>\n              <Link to={'/custom'}>Search</Link>\n            </Nav.Link>\n            <Nav.Link href=\"https://ghibliapi.herokuapp.com/\">Ghibli API</Nav.Link>\n            <Nav.Link href=\"https://www.omdbapi.com/\">OMDb API</Nav.Link>\n            <Nav.Link href=\"https://github.com/antoniosalinasolivares/ghibli-api-catalog\">Source</Nav.Link>\n          </Nav>\n        </Navbar>\n        <Switch style={{\n                'padding':'10px 10px 10px 10px',\n        }}>\n          <Route exact path='/' component={Home} />\n          <Route path='/favs' component={Favs} />\n          <Route path='/custom' component={Custom} />\n        </Switch>\n      </UserContext.Provider>\n    </Router>\n\n  )\n}\n\n\nconst Home = () => {\n\n  const [loaded, setLoaded] = useState(false);\n  const [beenhere, setBeenhere] = useState(false)\n  const [films, setFilms] = useState([])\n\n\n  useEffect(()=>{\n    if(!beenhere){\n      setTimeout(()=>{\n        getFilms(setFilms, setLoaded)\n        setBeenhere(true)\n      }, 1500)\n    }\n  }, [])\n\n  return (\n    \n      <div>\n        {loaded?\n        <>\n            <div style={{\n                'padding':'10px 10px 10px 10px',\n            }}>\n              <FilmList style={{\n              }} films= {films} />\n            </div>     \n        </>:\n        <Splashscreen/>}\n      </div>\n  )\n}\n\nconst Favs = () => {\n  const {favs, setFavs} = useContext(UserContext)\n  return(\n        <>\n            <div style={{\n                'padding':'10px 10px 10px 10px',\n            }}>\n              <FilmList style={{\n              }} films= {favs} />\n            </div>     \n        </>\n        )\n}\n\nconst Custom = () => {\n\n  const [Collection, setCollection] = useState([])\n  const [query, setQuery] = useLocalStorage('query', 'People')\n  const formRef = useRef()\n\n  useEffect(() => {\n    setCollection(async (current)=> {\n      if(!getSearch(query, setCollection)){\n        setCollection('Fallo el API')\n      }\n      console.log(Collection)\n    })\n  }, [query])\n\n  useEffect(() => {\n    formRef.current.value = query\n    getSearch(query, setCollection)\n  }, [])\n\n  const search = () => {\n    setQuery(formRef.current.value)\n  }\n\n  return(\n    <>\n      <div style={{\n                'padding':'10px 10px 10px 10px',\n            }}>\n        <Form>\n          <Form.Group controlId=\"exampleForm.ControlSelect1\">\n            <Form.Label>Select your search</Form.Label>\n              <Form.Control ref={formRef} as=\"select\">\n                <option>People</option>\n                <option>Locations</option>\n                <option>Species</option>\n                <option>Vehicles</option>\n              </Form.Control>\n            </Form.Group>\n          </Form>\n          <Button onClick={()=>{\n            setQuery(formRef.current.value)\n            console.log(formRef.current.value)\n          }}>Search</Button>\n\n          {\n            Collection?.length?\n            <div className=\"row\">\n            {\n              Collection.map((element)=>{\n                return(\n                <div className=\"col-md-4\" style={{ \n                  'margin':'10px 0px 10px 0px'\n                }}>\n                  <Card style={{ width: '18rem' }} >\n                    <Card.Body>\n                      <Card.Title>{element.name}</Card.Title>\n                        {\n                          element.climate?<>climate:{element.climate}</>:<></>\n                        }\n                        {\n                          element.description?<>{element.description}</>:<></>\n                        }\n                        {\n                          element.age?<>age: {element.age}</>:<></>\n                        }\n                        {\n                          element.classification?<>{element.classification}</>:<></>\n                        }\n                      <Card.Text>\n                      </Card.Text>\n                    </Card.Body>\n                  </Card>\n                </div>  \n\n                )\n            })\n            }\n            </div>\n            :\n            <></>\n          }\n          \n\n      </div>\n    </>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}