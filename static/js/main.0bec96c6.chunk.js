(this["webpackJsonpghibli-api-catalog"]=this["webpackJsonpghibli-api-catalog"]||[]).push([[0],{92:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(0),a=c.n(r),i=c(24),s=c.n(i),j=c(11),o=c.n(j),l=c(19),u=c(15),b=(c(44),c(98)),d=c(97),x=c(96),p=c(94),O=c(99),h=c(28),f=c(7),m=Object(r.createContext)();function v(e,t){var c=Object(r.useState)((function(){return function(e,t){return JSON.parse(localStorage.getItem(e))||(t instanceof Function?t():t)}(e,t)})),n=Object(u.a)(c,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(a))}),[a]),[a,i]}var g=c(30),F=c.n(g),w="https://ghibliapi.herokuapp.com/",y=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(w+"Films");case 3:n=e.sent,t(n.data),c(!0),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,c){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(t,c){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get(w+t);case 3:n=e.sent,c(n.data),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,c){return e.apply(this,arguments)}}(),S=c(48),C=c(60),N=function(){var e=Object(l.a)(o.a.mark((function e(t){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("https://www.omdbapi.com/?apikey=25cb10d2&t="+t.split(" ").join("+"));case 3:return c=e.sent,e.abrupt("return",c.data.Poster);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),I=c(95),P=function(e){var t=Object(r.useState)(!1),c=Object(u.a)(t,2),a=c[0],i=c[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),b=j[0],d=j[1];return Object(r.useEffect)((function(){(function(){var t=Object(l.a)(o.a.mark((function t(){var c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e.title);case 2:c=t.sent,d(c);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(n.jsx)("div",{className:"col-md-3",styles:{margin:"10px 0px 10px 0px"},children:Object(n.jsxs)(O.a,{children:[Object(n.jsx)(O.a.Img,{src:b}),Object(n.jsxs)(O.a.Body,{children:[Object(n.jsx)(O.a.Title,{children:e.title}),Object(n.jsx)(p.a,{variant:"primary",onClick:function(){return i(!0)},children:"Show description"}),Object(n.jsx)(L,{film:{title:e.title,description:e.description,id:e.id},show:a,onHide:function(){return i(!1)}})]})]},e.id)})};function L(e){var t=Object(r.useContext)(m),c=(t.favs,t.setFavs);return Object(n.jsxs)(I.a,Object(S.a)(Object(S.a)({},e),{},{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(n.jsx)(I.a.Header,{closeButton:!0,children:Object(n.jsx)(I.a.Title,{id:"contained-modal-title-vcenter",children:e.film.title})}),Object(n.jsx)(I.a.Body,{children:Object(n.jsx)("p",{children:e.film.description})}),Object(n.jsxs)(I.a.Footer,{children:[Object(n.jsx)(p.a,{onClick:function(){c((function(t){return[].concat(Object(C.a)(t),[e.film])}))},children:"Add to favourites"}),Object(n.jsx)(p.a,{onClick:e.onHide,children:"Close"})]})]}))}var A=function(e){return Object(n.jsx)("div",{className:"row",children:e.films.map((function(e){return Object(n.jsx)(P,{id:e.id,title:e.title,description:e.description},e.id)}))})},B=function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("img",{alt:"welcome message",className:"col d-flex align-items-center justify-content-center",src:"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Forig01.deviantart.net%2Fd861%2Ff%2F2014%2F359%2Fb%2F0%2Fb0d22d0654c0ab72cdc8b9d2145f6695-d8b80js.png&f=1&nofb=1"})}),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("h2",{className:"col d-flex align-items-center justify-content-center",children:"Ghibli API Catalog"})})]})},E=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),c=t[0],a=t[1],i=Object(r.useState)(!1),s=Object(u.a)(i,2),j=s[0],o=s[1],l=Object(r.useState)([]),b=Object(u.a)(l,2),d=b[0],x=b[1];return Object(r.useEffect)((function(){j||setTimeout((function(){y(x,a),o(!0)}),1500)}),[]),Object(n.jsx)("div",{children:c?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{padding:"10px 10px 10px 10px"},children:Object(n.jsx)(A,{style:{},films:d})})}):Object(n.jsx)(B,{})})},T=function(){var e=Object(r.useContext)(m),t=e.favs;e.setFavs;return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{style:{padding:"10px 10px 10px 10px"},children:Object(n.jsx)(A,{style:{},films:t})})})},J=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),c=t[0],a=t[1],i=v("query","People"),s=Object(u.a)(i,2),j=s[0],b=s[1],d=Object(r.useRef)();Object(r.useEffect)((function(){a(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(j,a)||a("Fallo el API"),console.log(c);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[j]),Object(r.useEffect)((function(){d.current.value=j,k(j,a)}),[]);return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{style:{padding:"10px 10px 10px 10px"},children:[Object(n.jsx)(x.a,{children:Object(n.jsxs)(x.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(n.jsx)(x.a.Label,{children:"Select your search"}),Object(n.jsxs)(x.a.Control,{ref:d,as:"select",children:[Object(n.jsx)("option",{children:"People"}),Object(n.jsx)("option",{children:"Locations"}),Object(n.jsx)("option",{children:"Species"}),Object(n.jsx)("option",{children:"Vehicles"})]})]})}),Object(n.jsx)(p.a,{onClick:function(){b(d.current.value),console.log(d.current.value)},children:"Search"}),(null===c||void 0===c?void 0:c.length)?Object(n.jsx)("div",{className:"row",children:c.map((function(e){return Object(n.jsx)("div",{className:"col-md-4",style:{margin:"10px 0px 10px 0px"},children:Object(n.jsx)(O.a,{style:{width:"18rem"},children:Object(n.jsxs)(O.a.Body,{children:[Object(n.jsx)(O.a.Title,{children:e.name}),e.climate?Object(n.jsxs)(n.Fragment,{children:["climate:",e.climate]}):Object(n.jsx)(n.Fragment,{}),e.description?Object(n.jsx)(n.Fragment,{children:e.description}):Object(n.jsx)(n.Fragment,{}),e.age?Object(n.jsxs)(n.Fragment,{children:["age: ",e.age]}):Object(n.jsx)(n.Fragment,{}),e.classification?Object(n.jsx)(n.Fragment,{children:e.classification}):Object(n.jsx)(n.Fragment,{}),Object(n.jsx)(O.a.Text,{})]})})})}))}):Object(n.jsx)(n.Fragment,{})]})})},G=function(){var e=v("films",[]),t=Object(u.a)(e,2),c=t[0],r=t[1];return Object(n.jsx)(h.a,{children:Object(n.jsxs)(m.Provider,{value:{favs:c,setFavs:r},children:[Object(n.jsxs)(b.a,{bg:"dark",variant:"dark",children:[Object(n.jsx)(b.a.Brand,{children:Object(n.jsx)(h.b,{to:"/",children:"Catalog"})}),Object(n.jsxs)(d.a,{className:"mr-auto",children:[Object(n.jsx)(d.a.Link,{children:Object(n.jsx)(h.b,{to:"/favs",children:"Favs"})}),Object(n.jsx)(d.a.Link,{children:Object(n.jsx)(h.b,{to:"/custom",children:"Search"})}),Object(n.jsx)(d.a.Link,{href:"https://ghibliapi.herokuapp.com/",children:"Ghibli API"}),Object(n.jsx)(d.a.Link,{href:"https://www.omdbapi.com/",children:"OMDb API"}),Object(n.jsx)(d.a.Link,{href:"https://github.com/antoniosalinasolivares/ghibli-api-catalog",children:"Source"})]})]}),Object(n.jsxs)(f.c,{style:{padding:"10px 10px 10px 10px"},children:[Object(n.jsx)(f.a,{exact:!0,path:"/",component:E}),Object(n.jsx)(f.a,{path:"/favs",component:T}),Object(n.jsx)(f.a,{path:"/custom",component:J})]})]})})};s.a.render(Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.0bec96c6.chunk.js.map